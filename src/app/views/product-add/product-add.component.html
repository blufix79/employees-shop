<app-header-page titlePage="Add New Product" breadCrumbPage="Add Product" iconPage="fas fa-birthday-cake"></app-header-page>

<section class="content">
  <div class="container-fluid">
    <div class="card">
      <div class="card-header">
        <button class="btn btn-secondary" title="Return to product list" [routerLink]="['/products']"><i class="fa fa-arrow-left"></i></button>
        <div class="card-tools">
          <button class="btn btn-success" title="Save product" (click)="saveProduct()"><i
              class="fa fa-save"></i></button>
        </div>
      </div>
      <div class="card-body">
        <form [formGroup]="productAddForm" class="form-horizontal">
          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Title</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" [ngClass]="{'is-valid':title.valid,'is-invalid':title.invalid && (title.dirty || title.touched)}" formControlName="title" placeholder="Product title" required>
              <div *ngIf="title.invalid && (title.dirty || title.touched)" class="alert alert-danger">
                <div *ngIf="title.errors.required">
                  Title is required
                </div>
              </div>
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Category</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" [ngClass]="{'is-valid':category.valid,'is-invalid':category.invalid && (category.dirty || category.touched)}" formControlName="category" placeholder="Product category">
              <div *ngIf="category.invalid && (category.dirty || category.touched)" class="alert alert-danger">
                <div *ngIf="category.errors.required">
                  Category is required
                </div>
              </div>
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Price</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" min="0" [ngClass]="{'is-valid':price.valid,'is-invalid':price.invalid && (price.dirty || price.touched)}" formControlName="price" placeholder="Product price">
              <div *ngIf="price.invalid && (price.dirty || price.touched)" class="alert alert-danger">
                <div *ngIf="price.errors.required">
                  -Price is required
                </div>
                <div *ngIf="price.errors.min.actual<0">
                  -The price must be a positive number
                </div>
              </div>
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Employee</label>
            <div class="col-sm-10">
              <!-- <input type="text" class="form-control" formControlName="employee" [ngClass]="{'is-valid':employee.valid,'is-invalid':employee.invalid && (employee.dirty || employee.touched)}" placeholder="Employee"> -->
              <select class="form-control" formControlName="employee" [ngClass]="{'is-valid':employee.valid,'is-invalid':employee.invalid && (employee.dirty || employee.touched)}">
                <option [ngValue]="undefined">Select Employee</option>
                <option *ngFor="let employeeItem of employees">{{employeeItem}}</option>
              </select>
              <div *ngIf="employee.invalid && (employee.dirty || employee.touched)" class="alert alert-danger">
                <div *ngIf="employee.errors.required">
                  Employee is required
                </div>
                {{employee.errors|json}}
              </div>
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Description</label>
            <div class="col-sm-10">
              <!-- <input type="text" class="form-control" formControlName="employee"  placeholder="Employee"> -->
              <textarea class="form-control" formControlName="description" placeholder="Product description"></textarea>
            </div>
          </div>
        </form>
        <!-- {{productAddForm.value|json}} -->
        <!-- {{productAddForm|json}} -->
      </div>
    </div>
  </div>
</section>
